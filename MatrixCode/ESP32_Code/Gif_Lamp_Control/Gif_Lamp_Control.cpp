

#include <Adafruit_NeoPixel.h>
#include <Adafruit_NeoMatrix.h>
#include "Gif_Lamp_Control.h"
#include "TestPatterns.h"

///Panel Parameters
#define DEFAULT_GIF_PANEL_WIDTH						(16)
#define DEFAULT_GIF_PANEL_HIGHT						(16)
#define DEFAULT_GIF_PANEL_PIN						(5)

///Panel default programming
#define DEFAULT_GIF_PANEL_TEXT_WRAP_MODE			(false)
#define DEFAULT_GIF_PANEL_BRIGHTNESS				(40)
#define DEFAULT_GIF_PANEL_STARTUP_FILL_SCREEN_COLOR	(0)

// const static standartIndexToReal[DEFAULT_GIF_PANEL_WIDTH * DEFAULT_GIF_PANEL_HIGHT] = 
// {
	// 000,001,002,003,004,005,006,007,008,009,010,011,012,013,014,015,
	// 031,030,029,028,027,026,025,024,023,022,021,020,019,018,017,016,
	// 032,033,034,035,036,037,038,039,040,041,042,043,044,045,046,047,
	// 063,062,061,060,059,058,057,056,055,054,053,052,051,050,049,048,
	// 064,065,066,067,068,069,070,071,072,073,074,075,076,077,078,079,
	// 095,094,093,092,091,090,089,088,087,086,085,084,083,082,081,080,
	// 096,097,098,099,100,101,102,103,104,105,106,107,108,109,110,111,
	// 127,126,125,124,123,122,121,120,119,118,117,116,115,114,113,112,
	// 128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,
	// 159,158,157,156,155,154,153,152,151,150,149,148,147,146,145,144,
	// 160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,
	// 191,190,189,188,187,186,185,184,183,182,181,180,179,178,177,176,
	// 192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,
	// 223,222,221,220,219,218,217,216,215,214,213,212,211,210,209,208,
	// 224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,
	// 255,254,253,252,251,250,249,248,247,246,245,244,243,242,241,240
// };

static Adafruit_NeoMatrix GifPanel(DEFAULT_GIF_PANEL_WIDTH, DEFAULT_GIF_PANEL_HIGHT, DEFAULT_GIF_PANEL_PIN);

void GifControl_initPanel(void){
	GifPanel.begin();
	GifPanel.setTextWrap(DEFAULT_GIF_PANEL_TEXT_WRAP_MODE);
	GifPanel.clear();
	GifPanel.show();
}

void GifControl_showTespPattern(void){
	const uint32_t tpMatrix[DEFAULT_GIF_PANEL_WIDTH][DEFAULT_GIF_PANEL_HIGHT] = POKEBALL_PATTERN_16_16_MATRIX;
	
	for(int r = 0; r < DEFAULT_GIF_PANEL_HIGHT; ++r){
		for(int c = 0; c < DEFAULT_GIF_PANEL_WIDTH; ++c){
			GifPanel.drawPixel(c, r, tpMatrix[r][c]);
		}
	}
	GifPanel.show();
}



